<!DOCTYPE html>
<html>
    <head>
      <title>Fruit Ninja</title>
      <link rel="stylesheet" href="style1.css">
        <style>
            canvas{ background: #eee; display: block; margin: 0 auto; }
           
            #para1 {
            text-align: left;
            color: #b204d1;
            }
            
            #para2 {
            text-align: left;
            color: #b204d1;
            }
            
            #para3 {
            text-align: right;
            color: #b204d1;
            padding-right: 30px;
            }
            
            #para4 {
            text-align: center;
            color: #f536a8;
            }
        </style>
    </head>
   
    <body>
      <h1>Fruit Ninja</h1>
      <p id="para4">Tap the fruit before they leave the screen! Watch out: you'll lose a life if you miss one.</p>
      <p id="para1">Difficulty Level:</p> 
      <button onclick="level(2)">easy</button>
      <button onclick="level(1)">medium</button>
      <button onclick="level(2)">hard</button>
      <canvas id="myCanvas" width="700" height="395"></canvas>
      <script>
        
        // To do: make balls reappear after they vanish, make them tappable; set up score, difficulty level, lives, & timer; set up score guide
          
        // setup
        var canvas = document.getElementById("myCanvas");
        var ctx = canvas.getContext("2d");
        var balls = [];
          
           function createBall(){
            var ball = {};
            ball.x = Math.floor(Math.random() * 620) + 30;
            ball.y = canvas.height;
            ball.color = Math.floor(Math.random() * 5);
            ball.xmove;
            ball.ymove;
            console.log("color: " + ball.color);
            return ball;
        }
       
        function level(x){
        for (var i=0; i < x; i++){
            var ball = createBall();
            balls.push(ball);
        }
        }
          
            
       
     
        function moveBall(ball){  // update x and y location of the ball
            var radius;
            if (ball.color == 1) { // apple
                ctx.fillStyle = 'red';
                radius = 27;
                ball.ymove = -2;
            } 
            if (ball.color == 2) { // orange
                ctx.fillStyle = 'orange';
                radius = 22;
                ball.ymove = -2.5;
            }
            if (ball.color == 3) { // lemon
                ctx.fillStyle = 'yellow';
                radius = 20;
                ball.ymove = -3;
            }
            if (ball.color == 4) { // watermelon
                ctx.fillStyle = 'green';
                radius = 19;
                ball.ymove = -3.5;
            }
            if (ball.color == 0) { // passionfruit
                ctx.fillStyle = 'purple';
                radius = 15;
                ball.ymove = -4;
            }
            
            ball.radius = radius;
            ball.y += ball.ymove;
        }
          
        function drawBalls() {
            
            var ballsD =[];
            for(var i=0; i < balls.length; i++){
                ctx.beginPath();
                var ball = balls[i];
                moveBall(ball);
                
                 if (ball.y < 0) {
                  //  balls.splice(i,1);
                    ballsD.push(i);
                    console.log("ball being deleted");
                } else{
                    ctx.arc(ball.x, ball.y, ball.radius, 0, Math.PI*4);
                ctx.fill();
                }
                ctx.closePath();
            }
            for (var i=0; i < ballsD.length; i++){
            balls.splice(i,1);
            var ball = createBall();
            balls.push(ball);
            }
        }
        
        function draw() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            drawBalls();
         }
          
         let hour = 0;
let minute = 0;
let second = 0;
let millisecond = 0;

let cron;

document.form_main.start.onclick = () => start();
document.form_main.pause.onclick = () => pause();
document.form_main.reset.onclick = () => reset();

function start() {
  pause();
  cron = setInterval(() => { timer(); }, 10);
}

function pause() {
  clearInterval(cron);
}

function reset() {
  hour = 0;
  minute = 0;
  second = 0;
  millisecond = 0;
  document.getElementById('hour').innerText = '00';
  document.getElementById('minute').innerText = '00';
  document.getElementById('second').innerText = '00';
  document.getElementById('millisecond').innerText = '000';
}

function timer() {
  if ((millisecond += 10) == 1000) {
    millisecond = 0;
    second++;
  }
  if (second == 60) {
    second = 0;
    minute++;
  }
  if (minute == 60) {
    minute = 0;
    hour++;
  }
  document.getElementById('hour').innerText = returnData(hour);
  document.getElementById('minute').innerText = returnData(minute);
  document.getElementById('second').innerText = returnData(second);
  document.getElementById('millisecond').innerText = returnData(millisecond);
}

function returnData(input) {
  return input > 10 ? input : `0${input}`
}
        
        console.log("try");
        setInterval(draw, 10);

       </script>
      <h2>
       <img src="https://www.clipartmax.com/png/middle/221-2216315_ninja-ninja-icon.png" width="10%">
      </h2>
      <p id ="para2">Difficulty Level:</p>
      <p id="para3">Timer:</p>
        <div>
    <span id="hour">00</span>:<span id="minute">00</span>:<span id="second">00</span>:<span id="millisecond">000</span>
  </div>

  <br />

  <button type="button" name="start">start</button>
  <button type="button" name="pause">pause</button>
  <button type="button" name="reset">reset</button>
     </body>
</html>
